<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <!-- Materialize CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<nav>
    <div class="nav-wrapper">
        <div class="container">
            <a href="#" class="brand-logo">Logo</a>
            <a href="#" data-target="mobile-demo" class="sidenav-trigger"><i class="material-icons">menu</i></a>
            <ul class="right hide-on-med-and-down">
                <li><a href="/animals" class="animals">Animals game</a></li>
                <li><a href="/thesaurus" class="thesaurus">Thesaurus game</a></li>
                <li><a href="/charts" class="dropdown-trigger charts" data-target="dropdown1">Charts</a></li>
                <li><a href="/admin" class = "admin">Admin</a></li>
                <li><a href="/pdfpage" class="download-trigger pdfdownload">PDF Download</a></li>
                <li><a href="/main" class="download-trigger main">Main</a></li>
                <li><a href="/history" class="history-trigger history">History</a></li>
                <li><a href="/translate" class = "translate">Translate</a></li>
                <li><a href="/" class = "login">Login</a></li>
            </ul>
        </div>
    </div>
</nav>
<div class="container mt-5">
    <h2>Featured Items</h2>
    <ul class="tabs" id="myTab">
        <% items.forEach((item, index) => { %>
            <li class="tab">
                <a class="<%= index === 0 ? 'active' : '' %>" href="#item<%= index %>"><%= item.name.kz %></a>
            </li>
        <% }) %>
    </ul>
    <div class="row">
        <% items.forEach((item, index) => { %>
            <div id="item<%= index %>" class="col s12">
                <div id="carousel<%= index %>" class="carousel">
                    <% item.images.forEach((image, i) => { %>
                        <a class="carousel-item" href="#one!">
                            <img src="<%= image %>">
                        </a>
                    <% }) %>
                </div>
                <div class="card-panel">
                    <p><%= item.description.kz %></p>
                </div>
            </div>
        <% }) %>
    </div>
</div>

<!-- Materialize JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

<!-- Custom Script -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        var elems = document.querySelectorAll('.carousel');
        var instances = M.Carousel.init(elems);
    });

    document.addEventListener('DOMContentLoaded', function() {
        var tabs = document.querySelectorAll('.tabs');
        var instances = M.Tabs.init(tabs);
    });

    document.querySelectorAll('.tabs a').forEach(function(tab) {
        tab.addEventListener('click', function() {
            var index = parseInt(this.getAttribute('href').substring(5)); // Extracting index from href
            var carousel = document.querySelector('#carousel' + index);
            var carouselInstance = M.Carousel.getInstance(carousel);
            carouselInstance.set(0); // Reset carousel index to 0 when tab clicked
        });
    });
</script>

</body>
</html>